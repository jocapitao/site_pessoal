$(function () {
    "use strict";
    var e = $(window).width(),
        t = $(window).height();
    $(".section.started").css({
        height: t
    }), $(window).on("load", function () {
        var e = $(".preloader");
        e.find(".spinner").fadeOut(function () {
            e.fadeOut(), $("body").addClass("ready")
        })
    }), e > 720 && (window.sr = ScrollReveal(), sr.reveal(".animated")), $(".typed-title").typed({
        stringsElement: $(".typing-title"),
        backDelay: 5e3,
        typeSpeed: 0,
        loop: !0
    });
    var a = $("#video-bg"),
        i = a.YTPlayer();
    a.length && $(window).on("scroll", function () {
        $(this).scrollTop() >= t - 10 && a.YTPPause(), $(this).scrollTop() <= t - 10 && a.YTPPlay()
    }), $(window).width() < 720 & a.length && $(".mbYTP_wrapper").hide(), $(window).on("scroll", function () {
        var e = $(window).scrollTop();
        $(".top-menu ul li a").each(function () {
            var t = $(this),
                a = $(t.attr("href"));
            a.offset().top <= e && ($(this).closest(".top-menu").find("li").removeClass("active"), t.closest("li").addClass("active"))
        }), $(this).scrollTop() >= t - 10 && $(".mouse-btn").fadeOut(), $(this).scrollTop() <= t - 10 && $(".mouse-btn").fadeIn(), $(this).scrollTop() <= t - 10 && $(".top-menu ul li").removeClass("active"), $(window).scrollTop() > 10 ? $("header").addClass("filled") : $("header").removeClass("filled");
        var a = $(window).scrollTop(),
            i = a + $(window).height();
        $(".bar").each(function (e) {
            var t = $(this),
                o = t.offset().top,
                s = o + t.height();
            s <= i && o >= a && t.removeClass("animated")
        })
    }), $(".top-menu ul li a").on("click", function () {
        var e = $(this).attr("href"),
            t = parseFloat($(e).offset().top);
        return $("body,html").animate({
            scrollTop: t + 10
        }, 800), !1
    }), $(".page").on("click", ".menu-btn", function () {
        var e = $(".top-menu");
        return e.hasClass("active") ? (e.removeClass("active"), $(this).removeClass("active")) : (e.addClass("active"), $(this).addClass("active")), !1
    }), $(".section").on("click", ".mouse-btn", function () {
        $("body,html").animate({
            scrollTop: t
        }, 800)
    }), $(window).scrollTop() > 10 ? $("header").addClass("filled") : $("header").removeClass("filled");
    var o = $(".box-items");
    o.imagesLoaded(function () {
        o.multipleFilterMasonry({
            itemSelector: ".box-item",
            filtersGroupSelector: ".filters",
            percentPosition: !0,
            gutter: 0
        })
    }), $(".filters label").on("change", 'input[type="radio"]', function () {
        $(this).is(":checked") && ($(".f_btn").removeClass("active"), $(this).closest(".f_btn").addClass("active")), $(".has-popup").magnificPopup({
            type: "inline",
            overflowY: "auto",
            closeBtnInside: !0,
            mainClass: "mfp-fade"
        })
    }), $(".has-popup").magnificPopup({
        type: "inline",
        overflowY: "auto",
        closeBtnInside: !0,
        mainClass: "mfp-fade"
    }), $("#cform").validate({
        rules: {
            name: {
                required: !0
            },
            tel: {
                required: !0
            },
            message: {
                required: !0
            },
            subject: {
                required: !0
            },
            email: {
                required: !0,
                email: !0
            }
        },
        success: "valid",
        submitHandler: function () {
            $.ajax({
                url: "mailer/feedback.php",
                type: "post",
                dataType: "json",
                data: "name=" + $("#cform").find('input[name="name"]').val() + "&tel=" + $("#cform").find('input[name="tel"]').val() + "&email=" + $("#cform").find('input[name="email"]').val() + "&subject=" + $("#cform").find('input[name="subject"]').val() + "&message=" + $("#cform").find('textarea[name="message"]').val(),
                beforeSend: function () {},
                complete: function () {},
                success: function (e) {
                    $("#cform").fadeOut(), $(".alert-success").delay(1e3).fadeIn()
                }
            })
        }
    })
});
